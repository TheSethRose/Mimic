{
    "title": "Walmart - Get Purchase History",
    "description": "Login to Walmart.com and extract recent purchase history",
    "steps": [
        {
            "type": "setViewport",
            "width": 1280,
            "height": 800,
            "deviceScaleFactor": 1
        },
        {
            "type": "navigate",
            "url": "https://www.walmart.com/account/login?returnUrl=/orders"
        },
        {
            "type": "click",
            "target": "main",
            "selectors": [
                ["#email"],
                ["aria/Email Address"],
                ["input[type='email']"]
            ]
        },
        {
            "type": "change",
            "value": "{{WALMART_EMAIL}}",
            "selectors": [
                ["#email"],
                ["input[type='email']"]
            ]
        },
        {
            "type": "click",
            "target": "main",
            "selectors": [
                ["button[type='submit']"],
                ["text/Continue"],
                ["aria/Continue"]
            ]
        },
        {
            "type": "click",
            "target": "main",
            "selectors": [
                ["#password"],
                ["aria/Password"],
                ["input[type='password']"]
            ]
        },
        {
            "type": "change",
            "value": "{{WALMART_PASSWORD}}",
            "selectors": [
                ["#password"],
                ["input[type='password']"]
            ]
        },
        {
            "type": "click",
            "target": "main",
            "selectors": [
                ["button[type='submit']"],
                ["text/Sign In"],
                ["aria/Sign In"]
            ]
        },
        {
            "type": "waitForElement",
            "selectors": [
                ["[data-testid='order-list']"],
                ["text/Order history"],
                [".order-card"]
            ],
            "timeout": 15000
        }
    ],
    "env_vars": {
        "WALMART_EMAIL": "Walmart Email",
        "WALMART_PASSWORD": "Walmart Password"
    },
    "extract_prompt": "Extract the purchase history visible on screen. For each order, capture: order_date, order_number, total_price, status, and items (array of item names). Ignore cancelled orders. Return: {\"orders\": [{\"order_date\": \"...\", \"order_number\": \"...\", \"total_price\": \"$X.XX\", \"status\": \"Delivered\", \"items\": [\"item1\", \"item2\"]}]}"
}
